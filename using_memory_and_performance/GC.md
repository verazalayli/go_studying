Garbage Collector (GC, —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞) –≤ Go ‚Äî —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –ø–∞–º—è—Ç—å, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–µ–∫ –∏ –æ—à–∏–±–æ–∫. 

---

## üìå –ó–∞—á–µ–º –Ω—É–∂–µ–Ω GC –≤ Go?

–í Go (–∫–∞–∫ –∏ –≤ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç—å—é) –ø–∞–º—è—Ç—å –ø–æ–¥ –æ–±—ä–µ–∫—Ç—ã –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ö–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç—ã –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, –ø–∞–º—è—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞, —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã. –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é (–∫–∞–∫ –≤ C/C++) ‚Äî —Ç—Ä—É–¥–æ—ë–º–∫–æ–µ –∏ —á—Ä–µ–≤–∞—Ç–æ –æ—à–∏–±–∫–∞–º–∏. GC –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç GC –≤ Go

–°–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –≤ Go:

* **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º;
* **–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π** ‚Äî –¥–µ–ª–∏—Ç —Ä–∞–±–æ—Ç—É –Ω–∞ –º–µ–ª–∫–∏–µ —á–∞—Å—Ç–∏;
* **–Ω–µ–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∏–π –º–∏—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é** ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–∏—Ä–∞ ("stop-the-world") –º–∏–Ω–∏–º–∞–ª—å–Ω–∞;
* **—Ç—Ä—ë—Ö—Ñ–∞–∑–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º mark-and-sweep**:

### –≠—Ç–∞–ø—ã:

1. **Mark (–æ—Ç–º–µ—Ç–∫–∞)**: GC –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–∑ "–∫–æ—Ä–Ω–µ–π" (—Å—Ç–µ–∫, –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ), –∏ –ø–æ–º–µ—á–∞–µ—Ç –∏—Ö –∫–∞–∫ "–∂–∏–≤—ã–µ".
2. **Sweep (–æ—á–∏—Å—Ç–∫–∞)**: GC –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –≤—Å–µ–π –∫—É—á–µ –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ –ø–æ–º–µ—á–µ–Ω—ã.
3. **Compact (—É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ)**: –≤ Go –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –ø–∞–º—è—Ç—å –Ω–µ –¥–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è.

Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç–æ—á–µ—á–Ω—ã–π (precise)** GC ‚Äî –æ–Ω —Ç–æ—á–Ω–æ –∑–Ω–∞–µ—Ç, –∫–∞–∫–∏–µ –±–∞–π—Ç—ã —è–≤–ª—è—é—Ç—Å—è —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏, –∞ –∫–∞–∫–∏–µ ‚Äî –¥–∞–Ω–Ω—ã–º–∏.

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ GC –≤ Go

* –ß–∞—Å—Ç–æ—Ç–∞ GC –∑–∞–≤–∏—Å–∏—Ç –æ—Ç **GOGC** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100 ‚Äî –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ GC –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∫—É—á–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 100%).
* GC –≤–ª–∏—è–µ—Ç –Ω–∞ **–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –∏ **–∑–∞–¥–µ—Ä–∂–∫–∏ (latency)**. Go –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç GC –ø–æ–¥ **–Ω–∏–∑–∫–∏–µ –ø–∞—É–∑—ã**, —á—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è —Å–∏—Å—Ç–µ–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.
* –ù–∞—á–∏–Ω–∞—è —Å Go 1.5+, GC —Å—Ç–∞–ª **–Ω–∏–∑–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–º**.

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Java –∏ Python

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞        | Go                            | Java                                    | Python (CPython)              |
| --------------------- | ----------------------------- | --------------------------------------- | ----------------------------- |
| –¢–∏–ø GC                | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π, –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π | –ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–π (G1, ZGC, etc)             | Reference Counting + GC       |
| –ü–∞—É–∑—ã (latency)       | –ù–∏–∑–∫–∏–µ                        | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç GC (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∏–∑–∫–æ–π –≤ ZGC) | –í—ã—Å–æ–∫–∏–µ –≤ –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∞             | –ü—Ä–æ—Å—Ç–∞—è (—á–µ—Ä–µ–∑ GOGC)          | –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ JVM                | –ü–æ—á—Ç–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è        |
| –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ | –¢–æ–ª—å–∫–æ –≤ –∫—É—á–µ (heap)          | –ë–æ–ª–µ–µ –≥–ª—É–±–æ–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è               | Reference Counting            |
| –£–¥–∞–ª–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤       | –î–∞                            | –î–∞                                      | –î–∞, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ               |
| –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ     | –ù–µ—Ç                           | –ù–µ—Ç                                     | `del`, –Ω–æ —ç—Ç–æ –ø–æ–¥—Å–∫–∞–∑–∫–∞       |
| RT-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è         | –•–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç               | –¢—Ä–µ–±—É–µ—Ç ZGC/Real-time GC                | –ü–ª–æ—Ö–æ –ø–æ–¥—Ö–æ–¥–∏—Ç                |

---

## ‚úÖ –ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∑–∞–¥—É–º–∞—Ç—å—Å—è –æ GC –≤ Go

* –ö–æ–≥–¥–∞ –Ω–∞–±–ª—é–¥–∞—é—Ç—Å—è **–∑–∞–¥–µ—Ä–∂–∫–∏** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
* –ö–æ–≥–¥–∞ –≤—ã –ø–∏—à–µ—Ç–µ **–≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã** –∏ —Ö–æ—Ç–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏.
* –ö–æ–≥–¥–∞ —Ö–æ—á–µ—Ç—Å—è **—É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–±–æ—Ä–æ–∫ –º—É—Å–æ—Ä–∞** ‚Äî –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `sync.Pool`, –∏–∑–±–µ–≥–∞—Ç—å –∞–ª–ª–æ–∫–∞—Ü–∏–π –≤ –≥–æ—Ä—è—á–µ–º —Ü–∏–∫–ª–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–∞ —Å—Ç–µ–∫–µ.

---

## üì¶ –ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –∫–æ–º–∞–Ω–¥—ã

* `GOGC=off`: –æ—Ç–∫–ª—é—á–∏—Ç—å GC (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤).
* `GODEBUG=gctrace=1`: –≤—ã–≤–æ–¥ –ª–æ–≥–æ–≤ GC.
* `runtime.ReadMemStats`: —Å–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.
* `pprof`, `trace`: –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ GC.

---

## üí° –í—ã–≤–æ–¥

Garbage Collector –≤ Go ‚Äî —ç—Ç–æ **–±—ã—Å—Ç—Ä—ã–π, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –≤–º–µ—à–∏–≤–∞—é—â–∏–π—Å—è** –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ —Å–∏—Å—Ç–µ–º —Å –≤—ã—Å–æ–∫–∏–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∫ –∑–∞–¥–µ—Ä–∂–∫–∞–º. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Java, –æ–Ω –ø—Ä–æ—â–µ –∏ –∂—ë—Å—Ç–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ —Ä–∞–Ω—Ç–∞–π–º. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Python, –æ–Ω –ª—É—á—à–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏.
